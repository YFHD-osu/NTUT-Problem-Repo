{
  "uuid": "d389b0d9-268b-4b06-901d-e16880c0dbdd",
  "title": "32. 快樂數和自戀數",
  "createDate": 1750302596250,
  "collections": [
    "9b99bc6a-12d6-4347-87c5-9cc2082e7508"
  ],
  "problem": [
    "快樂數的定義，給定一個十進位整數，把每個位數的平方相加會變成新的n，如此重複進行的最終結果，如果 n = 1的話就是快樂數。",
    "例",
    "7",
    "7^2 =49",
    "4^2 + 9^2 =97",
    "9^2 + 7^2 =130",
    "1^2 + 3^2 + 0^2 =10",
    "1^2 + 0^2 = 1",
    "所以7是一個快樂數",
    "自戀數的定義，給定一個m位十進位整數，每個位數的m次方相加會等於該數本身。",
    "例",
    "2",
    "2^1 =2",
    "2是一個自戀數",
    "370",
    "3^3 + 7^3 + 0^3 = 370",
    "370是一個自戀數",
    "給定一個數字X,",
    "1.如果數字同時是快樂數和自戀數",
    "輸出",
    "X is both a happy number and a narcissistic number.",
    "並輸出X的位數相加直到為一位數的費波那契數",
    "例 7 同時是快樂數和自戀數",
    "F(7) = 13",
    "輸出",
    "7 is both a happy number and a narcissistic number.",
    "F(7) = 13",
    "2.如果數字是快樂數",
    "輸出",
    "X is a happy number.",
    "並輸出X的位數相加直到為一位數的費波那契數",
    "例 23 是快樂數",
    "2+3 = 5",
    "F(5) = 5",
    "輸出",
    "23 is a happy number.",
    "F(5) = 5",
    "3. 如果數字是自戀數",
    "輸出",
    "X is a narcissistic number.",
    "並輸出X的位數相加直到為一位數的階乘",
    "例  153 是自戀數",
    "1+5+3 =9",
    "9! = 362880",
    "輸出",
    "153 is a narcissistic number.",
    "9! = 362880",
    "4. 如果數字既不是快樂數也不是自戀數",
    "輸出",
    "X is neither a happy number nor a narcissistic number.",
    "並輸出X的位數相加直到為一位數的階乘",
    "例  26 既不是快樂數也不是自戀數",
    "2 + 6 =8",
    "8! = 40320",
    "輸出",
    "26 is neither a happy number nor a narcissistic number.",
    "8! = 40320",
    "【輸入說明】",
    "第一行：輸入一個整數n",
    "範例輸入說明:",
    "Sample Input:",
    "7(整數n)",
    "【輸出說明】",
    "按照題目說明輸出是否是快樂數與自戀數",
    "並按照題目說明輸出輸入數字位數相加直到為一位數的費波那契數或階乘",
    "Sample Output:",
    "7 is both a happy number and a narcissistic number.",
    "F(7) = 13"
  ],
  "testcase": {
    "codeType": 0,
    "cases": [
      {
        "input": [
          "7"
        ],
        "output": [
          "7 is both a happy number and a narcissistic number.",
          "F(7) = 13"
        ]
      },
      {
        "input": [
          "23"
        ],
        "output": [
          "23 is a happy number.",
          "F(5) = 5"
        ]
      },
      {
        "input": [
          "153"
        ],
        "output": [
          "153 is a narcissistic number.",
          "9! = 362880"
        ]
      },
      {
        "input": [
          "26"
        ],
        "output": [
          "26 is neither a happy number nor a narcissistic number.",
          "8! = 40320"
        ]
      }
    ]
  },
  "sampleCode": [
    "def main():",
    "  num = int(input())",
    "  ",
    "  happy = isHappy(num)",
    "  narcissistic = isNarcissistic(num)",
    "",
    "  sod = sumOfDigit(num)",
    "  while sod >= 10:",
    "    sod = sumOfDigit(sod)",
    "",
    "  if happy and narcissistic:",
    "    print(\"%d is both a happy number and a narcissistic number.\" % (num))",
    "    print(\"F(%d) = %d\"%(sod, fibonacci(sod-1)))",
    "    return",
    "  ",
    "  if happy:",
    "    print(\"%d is a happy number.\"%(num))",
    "    print(\"F(%d) = %d\"%(sod, fibonacci(sod-1)))",
    "    return",
    "  ",
    "  if narcissistic:",
    "    print(\"%d is a narcissistic number.\"%(num))",
    "    print(\"%d! = %d\"%(sod, factorial(sod)))",
    "    return",
    "",
    "  print(\"%d is neither a happy number nor a narcissistic number.\"%(num))",
    "  print(\"%d! = %d\"%(sod, factorial(sod)))",
    "  return",
    "",
    "def fibonacci(index: int):",
    "  if index < 2:",
    "    return 1",
    "  ",
    "  return fibonacci(index-1) + fibonacci(index-2) ",
    "",
    "def factorial(num: int):",
    "  if num < 2:",
    "    return 1",
    "  ",
    "  return num * factorial(num-1)",
    "",
    "def sumOfDigit(num: int):",
    "  if num < 10:",
    "    return num",
    "  ",
    "  return sumOfDigit(num//10) + num% 10",
    "",
    "def isHappy(num: int, depth = 0):",
    "  if depth > 990:",
    "    return False",
    "  ",
    "  result = 0",
    "  while num:",
    "    result += (num % 10) ** 2",
    "    num //= 10",
    "  ",
    "  if result == 1:",
    "    return True",
    "",
    "  return isHappy(result, depth+1)",
    "  ",
    "def isNarcissistic(num: int):",
    "  length = 0",
    "  while num // 10 ** length:",
    "    length += 1",
    "",
    "  tmp = 0",
    "  tmpNum = num",
    "  while tmpNum:",
    "    tmp += (tmpNum % 10) ** length",
    "    tmpNum //= 10",
    "  ",
    "  return num == tmp  ",
    "",
    "if __name__ == \"__main__\":",
    "  main()"
  ]
}